# ๐ ููู ูุนูู ุงูุตูุช (Text-to-Speech) ูู ุงูุชุทุจูู

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: ููููุจุฑ 2025

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุงูุชุทุจูู ูุณุชุฎุฏู **Text-to-Speech (TTS)** ูุชุญููู ุงููุต ุงูุนุฑุจู ุฅูู ุตูุช ูุณููุน.

---

## ๐ ููู ูุนููุ

### 1. โ ุงูุชููุฆุฉ (Initialization)

**ุนูุฏ ูุชุญ ุงูุชุทุจูู:**
```kotlin
// ูู ViewModel
ttsHelper = TextToSpeechHelper(application)
ttsHelper.initialize { success ->
    if (success) {
        // TTS ุฌุงูุฒ ููุงุณุชุฎุฏุงู
    }
}
```

**ูุง ูุญุฏุซ:**
1. ุฅูุดุงุก instance ูู TextToSpeech
2. ูุญุงููุฉ ุชุนููู ุงููุบุฉ ุงูุนุฑุจูุฉ (ar-SA)
3. ุฅุฐุง ูู ุชูู ูุชููุฑุฉุ ุงุณุชุฎุฏุงู ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ
4. ุชุนููู ุณุฑุนุฉ ุงูููุงู (1.0 = ุนุงุฏู)

---

### 2. โ ุงูุชุดุบูู (Speaking)

**ุนูุฏ ุงูุญุงุฌุฉ ูุชุดุบูู ูุต:**
```kotlin
// ูู ViewModel
fun speakText(text: String) {
    val enableSound = prefs.getBoolean("enable_sound", true)
    if (enableSound && text.isNotEmpty()) {
        ttsHelper.speak(text, enableSound)
    }
}
```

**ูุง ูุญุฏุซ:**
1. ุงูุชุญูู ูู ุฅุนุฏุงุฏ "ุชูุนูู ุงูุตูุช"
2. ุงูุชุญูู ูู ุฃู ุงููุต ุบูุฑ ูุงุฑุบ
3. ุงูุชุญูู ูู ุฃู TTS ุฌุงูุฒ
4. ุฅููุงู ุฃู ุชุดุบูู ุฌุงุฑู
5. ุชุดุบูู ุงููุต ุงูุฌุฏูุฏ

---

## ๐ฏ ุฃูู ููุณุชุฎุฏูุ

### 1. โ ุดุงุดุฉ "ุฅุดุงุฑุฉ ุฅูู ูุต" (Sign to Text)

**ุนูุฏ ุงูุชุดุงู ุฅุดุงุฑุฉ:**
```kotlin
// ูู SignToTextViewModel
if (enableSound) {
    ttsHelper.speak(label, enableSound)
}
```

**ูุซุงู:**
- ุงููุณุชุฎุฏู ูุนุฑุถ ุฅุดุงุฑุฉ "ุฃ"
- ุงูุชุทุจูู ููุชุดููุง
- โ ูุชู ุชุดุบูู ุตูุช "ุฃ" ุชููุงุฆูุงู

---

### 2. โ ุดุงุดุฉ "ูุต ุฅูู ุฅุดุงุฑุฉ" (Text to Sign)

**ุนูุฏ ุงูุชุฑุฌูุฉ:**
```kotlin
// ูู TextToSignViewModel
if (enableSound) {
    speakText(text)
}
```

**ูุซุงู:**
- ุงููุณุชุฎุฏู ููุชุจ "ูุฑุญุจุง"
- ูุถุบุท "ุชุฑุฌู"
- โ ูุชู ุชุดุบูู ุตูุช "ูุฑุญุจุง" ุชููุงุฆูุงู

**ุฃูุถุงู:**
- ุฒุฑ ๐ ูุชุดุบูู ุงูุตูุช ูุฏููุงู

---

## ๐ง ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. TextToSpeechHelper

**ุงููุธุงุฆู:**
- `initialize()` - ุชููุฆุฉ TTS
- `speak(text)` - ุชุดุบูู ูุต
- `stop()` - ุฅููุงู ุงูุชุดุบูู
- `shutdown()` - ุฅุบูุงู TTS
- `isReady()` - ุงูุชุญูู ูู ุงูุฌุงูุฒูุฉ

---

### 2. ูุนุงูุฌุฉ ุงูุญุงูุฉ ุงููุดุบููุฉ

**ุงููุดููุฉ:**
- TTS ูุฏ ูููู ูุดุบููุงู ุจุชุดุบูู ูุต ุขุฎุฑ

**ุงูุญู:**
```kotlin
if (tts?.isSpeaking == true) {
    tts?.stop()
    // ุงูุชุธุงุฑ 200ms ูุจู ุงูุจุฏุก
    handler.postDelayed({
        speakTextNow(text)
    }, 200)
}
```

---

### 3. ูุธุงู Queue ูููุตูุต

**ุงููุดููุฉ:**
- ูุฏ ูุชู ุทูุจ ุชุดุบูู ูุต ูุจู ุฃู ูููู TTS ุฌุงูุฒุงู

**ุงูุญู:**
```kotlin
if (!isInitialized) {
    // ุฅุถุงูุฉ ุฅูู queue
    pendingTexts.add(text)
    // ุชููุฆุฉ TTS
    initialize { ... }
}
```

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### 1. ุชูุนูู/ุชุนุทูู ุงูุตูุช

**ูู Settings:**
```kotlin
val enableSound = prefs.getBoolean("enable_sound", true)
```

**ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `true` (ููุนูู)

---

### 2. ุงููุบุฉ

**ุงูุฃููููุฉ:**
1. ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ (ar-SA)
2. ุงูุนุฑุจูุฉ (ar)
3. ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ

---

### 3. ุณุฑุนุฉ ุงูููุงู

**ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `1.0` (ุนุงุฏู)
- `0.5` = ุจุทูุก
- `1.0` = ุนุงุฏู
- `2.0` = ุณุฑูุน

---

## ๐ ุงูุชุฏูู ุงููุงูู

### ูุซุงู: "ุฅุดุงุฑุฉ ุฅูู ูุต"

```
1. ุงููุณุชุฎุฏู ูุนุฑุถ ุฅุดุงุฑุฉ "ุฃ"
   โ
2. MediaPipe ููุชุดู ุงููุฏ
   โ
3. TFLite ูุตููู ุงูุฅุดุงุฑุฉ โ "ุฃ"
   โ
4. ุนุฑุถ ุงููุต "ุฃ" ุนูู ุงูุดุงุดุฉ
   โ
5. ุงูุชุญูู ูู ุฅุนุฏุงุฏ "enable_sound"
   โ
6. ุฅุฐุง ูุงู ููุนูู:
   โ
7. TTS ูุชุญูู ูู ุงูุฌุงูุฒูุฉ
   โ
8. ุฅุฐุง ูุงู ูุดุบููุงู โ ุฅููุงู + ุงูุชุธุงุฑ
   โ
9. ุชุดุบูู ุตูุช "ุฃ"
   โ
10. โ ุงูุตูุช ููุณูุน
```

---

### ูุซุงู: "ูุต ุฅูู ุฅุดุงุฑุฉ"

```
1. ุงููุณุชุฎุฏู ููุชุจ "ูุฑุญุจุง"
   โ
2. ูุถุบุท "ุชุฑุฌู"
   โ
3. ุงูุจุญุซ ูู sign_map.json
   โ
4. ุงูุนุซูุฑ ุนูู ุงูุฅุดุงุฑุฉ
   โ
5. ุนุฑุถ ุงูุฅุดุงุฑุฉ
   โ
6. ุงูุชุญูู ูู ุฅุนุฏุงุฏ "enable_sound"
   โ
7. ุฅุฐุง ูุงู ููุนูู:
   โ
8. TTS ูุดุบูู "ูุฑุญุจุง"
   โ
9. โ ุงูุตูุช ููุณูุน
```

---

## ๐๏ธ ุงูุชุญูู

### 1. ุชุดุบูู ุชููุงุฆู

**ูุชู:**
- โ ุจุนุฏ ุงูุชุดุงู ุฅุดุงุฑุฉ (Sign to Text)
- โ ุจุนุฏ ุงูุชุฑุฌูุฉ (Text to Sign)

**ุดุฑูุท:**
- โ ุฅุนุฏุงุฏ "enable_sound" = true
- โ TTS ุฌุงูุฒ
- โ ุงููุต ุบูุฑ ูุงุฑุบ

---

### 2. ุชุดุบูู ูุฏูู

**ุฒุฑ ๐:**
- ููุฌูุฏ ูู ุดุงุดุฉ "ุฅุดุงุฑุฉ ุฅูู ูุต"
- ููุฌูุฏ ูู ุดุงุดุฉ "ูุต ุฅูู ุฅุดุงุฑุฉ"
- ูุณูุญ ุจุชุดุบูู ุงูุตูุช ูุฑุฉ ุฃุฎุฑู

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ุงูุตูุช ูุง ูุนูู

**ุงูุชุญูู ูู:**
1. โ ุฅุนุฏุงุฏ "ุชูุนูู ุงูุตูุช" ูู Settings
2. โ ูุณุชูู ุงูุตูุช ูู ุงูุฌูุงุฒ
3. โ Logcat ููุฃุฎุทุงุก:
   ```bash
   adb logcat | grep TextToSpeechHelper
   ```

---

### ุงููุดููุฉ: ุงูุตูุช ุจุงูุฅูุฌููุฒูุฉ

**ุงูุญู:**
1. Settings โ Language & Input โ Text-to-Speech
2. ุญููู ุญุฒูุฉ ุงููุบุฉ ุงูุนุฑุจูุฉ
3. ุงุฎุชุฑ ุงูุนุฑุจูุฉ ูู Default

---

### ุงููุดููุฉ: "ุงูุฎุฏูุฉ ูุดุบููุฉ"

**ุงูุญู:**
- โ ุชู ุฅุตูุงุญูุง ูู ุงูุชุญุฏูุซ ุงูุฃุฎูุฑ
- โ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุชููุงุฆูุงู
- โ ุฅููุงู ุงูุชุดุบูู ุงูุฌุงุฑู ูุจู ุงูุจุฏุก

---

## ๐ ุงูุฃุฏุงุก

### ุงูุฐุงูุฑุฉ:
- โ ููุฎูุถุฉ (~5-10 MB)

### ุงูุจุทุงุฑูุฉ:
- โ ุชุฃุซูุฑ ุจุณูุท

### ุงูุณุฑุนุฉ:
- โ ููุฑู ุชูุฑูุจุงู (< 100ms)

---

## ๐ก ูุตุงุฆุญ

### ููุงุณุชุฎุฏุงู ุงูุฃูุซู:
1. โ **ูุนูู ุงูุตูุช** - ูู Settings
2. โ **ุญููู ุญุฒูุฉ ุงูุนุฑุจูุฉ** - ูุตูุช ุฃูุถู
3. โ **ุชุญูู ูู ูุณุชูู ุงูุตูุช** - ูู ุงูุฌูุงุฒ
4. โ **ุงุณุชุฎุฏู ุฒุฑ ๐** - ูุฅุนุงุฏุฉ ุงูุชุดุบูู

---

## ๐ ุงูููุฏ ุงูููู

### TextToSpeechHelper.kt

**ุงููุธููุฉ ุงูุฑุฆูุณูุฉ:**
```kotlin
fun speak(text: String, enableSound: Boolean = true) {
    if (!enableSound) return
    if (text.isBlank()) return
    
    if (!isInitialized) {
        // ุฅุถุงูุฉ ุฅูู queue
        pendingTexts.add(text)
        initialize { ... }
        return
    }
    
    speakInternal(text)
}
```

---

## ๐ ุงูุฎูุงุตุฉ

### โ ููู ูุนูู:
1. **ุงูุชููุฆุฉ** - ุนูุฏ ูุชุญ ุงูุชุทุจูู
2. **ุงูุชุญูู** - ูู ุงูุฅุนุฏุงุฏุงุช ูุงูุฌุงูุฒูุฉ
3. **ุงูุชุดุบูู** - ุงููุต โ ุตูุช
4. **ุงูุฅุฏุงุฑุฉ** - ูุนุงูุฌุฉ ุงูุญุงูุฉ ุงููุดุบููุฉ

### โ ุฃูู ููุณุชุฎุฏู:
- โ Sign to Text - ุชููุงุฆูุงู
- โ Text to Sign - ุชููุงุฆูุงู + ูุฏููุงู

### โ ุงูููุฒุงุช:
- โ ุชุดุบูู ุชููุงุฆู
- โ ุชุดุบูู ูุฏูู
- โ ูุนุงูุฌุฉ ุงูุญุงูุฉ ุงููุดุบููุฉ
- โ ูุธุงู Queue
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ**: ููููุจุฑ 2025  
**ุงูุญุงูุฉ**: โ **ูุนูู ุจุดูู ุตุญูุญ**

